{"entries":[{"timestamp":1770753785188,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1802,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":249,"diffs":[[1,"\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":119,"length1":86,"diffs":[[1,"        \"microphone\": \"*\"\n"]]},{"start1":236,"length1":35,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1770754381061,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":39651,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"Iy|JW+P}AEzm}ORwJ(o/\">strip1</variable><variable id=\"D-YRP49V*6Puzu(+)J9,\">strip2</variable><variable id=\"[f%JQTr,I$}ONCHO%87)\">strip3</variable><variable id=\")gc62M(w0`V}_bn=fH,V\">range1</variable><variable id=\"HK#~]/9SZmJc#?w#a{hP\">range2</variable><variable id=\"Wpjdng8YNLBln,T#yxCC\">range3</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Iy|JW+P}AEzm}ORwJ(o/\">strip1</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P0</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"D-YRP49V*6Puzu(+)J9,\">strip2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P1</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[f%JQTr,I$}ONCHO%87)\">strip3</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P2</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"-7\" y=\"430\"><field name=\"NAME\">Button.A</field></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":795,"diffs":[[1,""]]},{"start1":46,"length1":22,"diffs":[[1,"\t\n"]]},{"start1":51,"length1":3146,"diffs":[[1,""]]},{"start1":249,"length1":1210,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":296,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"blocksprj\"\n"]]}]}]},{"timestamp":1770754948879,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":2057,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"z.2fgu{CbKCq/NQxmC[2\">events</variable><variable id=\"D6CZvf_FN[@#*bwfp6B5\">BETWEEN_EVENTS_MIN</variable><variable id=\"%l)}swM*|[6_dSp[=YsJ\">BETWEEN_EVENTS_MAX</variable><variable id=\"k;o`GL!.jPXV4nxT7%ae\">involvedCount</variable><variable id=\"alkijqEfZu]~W54QFeu5\">chosen</variable><variable id=\"V-V}Q6[DYrS^EAE9IA2c\">candidate</variable><variable id=\"*%FIhlH7|{5%/zw}vHcW\">strips</variable><variable id=\"+RPVEYRZA#Cj=547z*sj\">u</variable><variable id=\"RA*q6d!p3X)IWWSt){iR\">len</variable><variable id=\"oE{.ln@~`wj/LO$W5d#G\">SEG_MIN</variable><variable id=\"C`o6G9HO#UJoJ^`f#csP\">SEG_MAX</variable><variable id=\"dr)mSkA)hQ9e2-+@:4*i\">start</variable><variable id=\"MwbX_UWU]9(c(foBBP$Q\">segStart</variable><variable id=\"43Cs/SU2o;,qW[;$~aI*\">segLen</variable><variable id=\"adA]@;y{$|$a3h3wnZem\">flashes</variable><variable id=\"R*AE88TjfOLB(5;RGlJ3\">FLASH_MIN</variable><variable id=\"GYtgk#nQ^],)$=/!|%mH\">FLASH_MAX</variable><variable id=\"U$*om#=8~J,Y1h8pmS@2\">f</variable><variable id=\"Y)UZyQr.HIz31#;5(F9f\">onMs</variable><variable id=\"OIqcZ|xG0+X]%P0VgLa5\">offMs</variable><variable id=\"Yl!,4^P%:|tOchK:p=SC\">doubleFlash</variable><variable id=\"6vsm(6W1t2$$RmkT![[H\">k</variable><variable id=\"F%(qP8B)gRRndnO9_E`6\">b2</variable><variable id=\",Dv2dmt%Up0T?j=q8Bo(\">baseB</variable><variable id=\"K*{T6f,Dy9q5fF:xI]/?\">on2</variable><variable id=\"*j%!vL!?DR+-hymyMC5q\">off2</variable><variable id=\"UsgV/_;VjeJq#$UYv)V^\">l</variable><variable id=\"[/D]IhHQ}Dk1N|6?:?Xa\">glowB</variable><variable id=\"R^v?/]Xeo8.|/0^76!sC\">v</variable><variable id=\"U5ggPUUXg],0-K)t{7oj\">p</variable><variable id=\"mt,{/5r?)}*.y{LscySL\">s</variable><variable id=\"yQO@A@YZj+O,:~V}a!5/\">b</variable><variable id=\"-?q]s,8JuB+/9oQ]?BNp\">t</variable><variable id=\"DG|Esew+=xNlL{vQ$Jmt\">strip1</variable><variable id=\"vyrQwkjD%H@y0A;6@{k]\">strip2</variable><variable id=\"8+5FD,LAxZLf|EscXvQl\">strip3</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let chosen: neopixel.Strip[] = []\" numlines=\"1\" declaredvars=\"chosen\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let segStart: number[] = []\" numlines=\"1\" declaredvars=\"segStart\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let segLen: number[] = []\" numlines=\"1\" declaredvars=\"segLen\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let start = 0\" numlines=\"1\" declaredvars=\"start\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let onMs = 0\" numlines=\"1\" declaredvars=\"onMs\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let offMs = 0\" numlines=\"1\" declaredvars=\"offMs\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let b2 = 0\" numlines=\"1\" declaredvars=\"b2\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let on2 = 0\" numlines=\"1\" declaredvars=\"on2\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let off2 = 0\" numlines=\"1\" declaredvars=\"off2\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"DG|Esew+=xNlL{vQ$Jmt\">strip1</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P0</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vyrQwkjD%H@y0A;6@{k]\">strip2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P1</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8+5FD,LAxZLf|EscXvQl\">strip3</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P2</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"*%FIhlH7|{5%/zw}vHcW\">strips</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"DG|Esew+=xNlL{vQ$Jmt\">strip1</field></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vyrQwkjD%H@y0A;6@{k]\">strip2</field></block></value><value name=\"ADD2\"><block type=\"variables_get\"><field name=\"VAR\" id=\"8+5FD,LAxZLf|EscXvQl\">strip3</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"oE{.ln@~`wj/LO$W5d#G\">SEG_MIN</field><comment pinned=\"false\" h=\"80\" w=\"160\">---- Tuning ----\nkleinste Segmentlänge</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"C`o6G9HO#UJoJ^`f#csP\">SEG_MAX</field><comment pinned=\"false\" h=\"80\" w=\"160\">grösste Segmentlänge</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"R*AE88TjfOLB(5;RGlJ3\">FLASH_MIN</field><comment pinned=\"false\" h=\"80\" w=\"160\">minimale Flashes pro Blitz-Event</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"GYtgk#nQ^],)$=/!|%mH\">FLASH_MAX</field><comment pinned=\"false\" h=\"80\" w=\"160\">maximale Flashes pro Blitz-Event</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">6</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"D6CZvf_FN[@#*bwfp6B5\">BETWEEN_EVENTS_MIN</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"%l)}swM*|[6_dSp[=YsJ\">BETWEEN_EVENTS_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">220</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function clearStrip(s: neopixel.Strip) {\" line1=\"    s.showColor(neopixel.colors(NeoPixelColors.Black))\" line2=\"    s.show()\" line3=\"}\" numlines=\"4\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function flashSegmentOnce(s: neopixel.Strip,start: number,length: number,brightness: number,onMs: number,offMs: number) {\" line1=\"    // weiss, leicht &quot;kalt&quot; wirkt auch gut: 0xE6F7FF\" line2=\"    s.setBrightness(brightness)\" line3=\"    s.setPixelColor(start, neopixel.colors(NeoPixelColors.White))\" line4=\"    // fill ist schneller/sauberer:\" line5=\"    s.showRainbow(0, 0) // Trick: reset internal? (optional; falls du glitches hast, rausnehmen)\" line6=\"    // MakeCode hat fill() je nach Version; wenn vorhanden: s.fill(0xFFFFFF, start, length)\" line7=\"    for (let i = 0; i &lt; length; i++) {\" line8=\"        s.setPixelColor(start + i, neopixel.colors(NeoPixelColors.White))\" line9=\"    }\" line10=\"    s.show()\" line11=\"    basic.pause(onMs)\" line12=\"\" line13=\"    // aus\" line14=\"    for (let j = 0; j &lt; length; j++) {\" line15=\"        s.setPixelColor(start + j, neopixel.colors(NeoPixelColors.Black))\" line16=\"    }\" line17=\"    s.show()\" line18=\"    basic.pause(offMs)\" line19=\"}\" numlines=\"20\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"922\" y=\"0\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"blackAll\" functionid=\"N^gAq+L/Z8-ZXxcE^USd\"></mutation></block></statement></block><block type=\"device_button_event\" x=\"1202\" y=\"0\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">-------------------------------\nControls\n-------------------------------</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"thunderSequence\" functionid=\")YXn+~#|uh$qBvV#q?vq\"></mutation></block></statement></block><block type=\"function_definition\" x=\"1507\" y=\"0\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><field name=\"function_name\">randInt</field><comment pinned=\"false\" h=\"80\" w=\"160\">-------------------------------\nHelpers\n-------------------------------</comment><value name=\"8drgfsop761bc3ogk4y8s\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">min</field></block></value><value name=\"klwg2mihxukhglqeg3jq\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">max</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">inclusive</comment><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random_deprecated\"><value name=\"min\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">min</field></block></value><value name=\"limit\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">max</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2183\" y=\"0\"><mutation name=\"clamp\" functionid=\"qg9oA6($_W,dC2ihx^Z9\"><arg name=\"v\" id=\"d3egittsn1daz1aplwgo\" type=\"number\"></arg><arg name=\"lo\" id=\"p3l8zhzppvrbz8x73b7z\" type=\"number\"></arg><arg name=\"hi\" id=\"90jsiophpabcxeh7n9c1l\" type=\"number\"></arg></mutation><field name=\"function_name\">clamp</field><comment pinned=\"false\" h=\"80\" w=\"160\">===============================\n\n"]]},{"start1":10758,"length1":0,"diffs":[[1,"\n"]]},{"start1":10791,"length1":0,"diffs":[[1,"\n"]]},{"start1":10809,"length1":13524,"diffs":[[1,"\n===============================</comment><value name=\"d3egittsn1daz1aplwgo\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">v</field></block></value><value name=\"p3l8zhzppvrbz8x73b7z\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">lo</field></block></value><value name=\"90jsiophpabcxeh7n9c1l\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">hi</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">v</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">lo</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">lo</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">v</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">hi</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">hi</field></block></value></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">v</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2582\" y=\"0\"><mutation name=\"blackAll\" functionid=\"N^gAq+L/Z8-ZXxcE^USd\"></mutation><field name=\"function_name\">blackAll</field><statement name=\"STACK\"><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"mt,{/5r?)}*.y{LscySL\">s</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"*%FIhlH7|{5%/zw}vHcW\">strips</field></block></value><statement name=\"DO\"><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"mt,{/5r?)}*.y{LscySL\">s</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"mt,{/5r?)}*.y{LscySL\">s</field></block></value></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"3030\" y=\"0\"><mutation name=\"setGlobalBrightness\" functionid=\"Yk.Kza[sPeZ8lZnR6nhF\"><arg name=\"b\" id=\"frv5on8u77v8wcwrw1e3\" type=\"number\"></arg></mutation><field name=\"function_name\">setGlobalBrightness</field><value name=\"frv5on8u77v8wcwrw1e3\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">b</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"yQO@A@YZj+O,:~V}a!5/\">b</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"clamp\" functionid=\"qg9oA6($_W,dC2ihx^Z9\"><arg name=\"v\" id=\"d3egittsn1daz1aplwgo\" type=\"number\"></arg><arg name=\"lo\" id=\"p3l8zhzppvrbz8x73b7z\" type=\"number\"></arg><arg name=\"hi\" id=\"90jsiophpabcxeh7n9c1l\" type=\"number\"></arg></mutation><value name=\"d3egittsn1daz1aplwgo\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">b</field></block></value><value name=\"p3l8zhzppvrbz8x73b7z\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"90jsiophpabcxeh7n9c1l\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"-?q]s,8JuB+/9oQ]?BNp\">t</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"*%FIhlH7|{5%/zw}vHcW\">strips</field></block></value><statement name=\"DO\"><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"-?q]s,8JuB+/9oQ]?BNp\">t</field></block></value><value name=\"brightness\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">b</field></block></value></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"3530\" y=\"0\"><mutation name=\"lightningEvent\" functionid=\"=Jw/rSH]BwZ!/iKh3U9P\"></mutation><field name=\"function_name\">lightningEvent</field><comment pinned=\"false\" h=\"80\" w=\"160\">Blitz-Event: wählt zufällige Segmente über 1-3 Strips und macht mehrere Flashes\n"]]},{"start1":16565,"length1":23093,"diffs":[[1,"pro Strip ein eigenes Segment (Start/Len)</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"k;o`GL!.jPXV4nxT7%ae\">involvedCount</field><comment pinned=\"false\" h=\"80\" w=\"160\">wie viele Strips beteiligt?</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"alkijqEfZu]~W54QFeu5\">chosen</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k;o`GL!.jPXV4nxT7%ae\">involvedCount</field></block></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"V-V}Q6[DYrS^EAE9IA2c\">candidate</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"*%FIhlH7|{5%/zw}vHcW\">strips</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"*%FIhlH7|{5%/zw}vHcW\">strips</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"array_indexof\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"alkijqEfZu]~W54QFeu5\">chosen</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"V-V}Q6[DYrS^EAE9IA2c\">candidate</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"alkijqEfZu]~W54QFeu5\">chosen</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"V-V}Q6[DYrS^EAE9IA2c\">candidate</field></block></value></block></statement></block></next></block></statement><next><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"+RPVEYRZA#Cj=547z*sj\">u</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"alkijqEfZu]~W54QFeu5\">chosen</field></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"RA*q6d!p3X)IWWSt){iR\">len</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"oE{.ln@~`wj/LO$W5d#G\">SEG_MIN</field></block></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"C`o6G9HO#UJoJ^`f#csP\">SEG_MAX</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"dr)mSkA)hQ9e2-+@:4*i\">start</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_length\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"+RPVEYRZA#Cj=547z*sj\">u</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"RA*q6d!p3X)IWWSt){iR\">len</field></block></value></block></value></block></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"MwbX_UWU]9(c(foBBP$Q\">segStart</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"dr)mSkA)hQ9e2-+@:4*i\">start</field></block></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"43Cs/SU2o;,qW[;$~aI*\">segLen</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"RA*q6d!p3X)IWWSt){iR\">len</field></block></value></block></next></block></next></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"adA]@;y{$|$a3h3wnZem\">flashes</field><comment pinned=\"false\" h=\"80\" w=\"160\">Anzahl Flashes in diesem Event</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"R*AE88TjfOLB(5;RGlJ3\">FLASH_MIN</field></block></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"GYtgk#nQ^],)$=/!|%mH\">FLASH_MAX</field></block></value></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"U$*om#=8~J,Y1h8pmS@2\">f</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"adA]@;y{$|$a3h3wnZem\">flashes</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let baseB = (f == 0) ? randInt(180, 255) : randInt(80, 220)\" numlines=\"1\" declaredvars=\"baseB\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y)UZyQr.HIz31#;5(F9f\">onMs</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">15</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"OIqcZ|xG0+X]%P0VgLa5\">offMs</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Yl!,4^P%:|tOchK:p=SC\">doubleFlash</field><comment pinned=\"false\" h=\"80\" w=\"160\">manchmal „Double-Flash\" (klassisch bei Blitzen)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random_deprecated\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">35</field></shadow></value></block></value><next><block type=\"pxt_controls_for\"><comment pinned=\"false\" h=\"80\" w=\"160\">alle beteiligten Segmente gleichzeitig</comment><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"6vsm(6W1t2$$RmkT![[H\">k</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"alkijqEfZu]~W54QFeu5\">chosen</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"flashSegmentOnce(chosen[k], segStart[k], segLen[k], baseB, onMs, offMs)\" numlines=\"1\"></mutation></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Yl!,4^P%:|tOchK:p=SC\">doubleFlash</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"F%(qP8B)gRRndnO9_E`6\">b2</field><comment pinned=\"false\" h=\"80\" w=\"160\">kurzer \"kick\" danach</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"clamp\" functionid=\"qg9oA6($_W,dC2ihx^Z9\"><arg name=\"v\" id=\"d3egittsn1daz1aplwgo\" type=\"number\"></arg><arg name=\"lo\" id=\"p3l8zhzppvrbz8x73b7z\" type=\"number\"></arg><arg name=\"hi\" id=\"90jsiophpabcxeh7n9c1l\" type=\"number\"></arg></mutation><value name=\"d3egittsn1daz1aplwgo\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",Dv2dmt%Up0T?j=q8Bo(\">baseB</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value></block></value></block></value><value name=\"p3l8zhzppvrbz8x73b7z\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"90jsiophpabcxeh7n9c1l\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"K*{T6f,Dy9q5fF:xI]/?\">on2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">35</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"*j%!vL!?DR+-hymyMC5q\">off2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"UsgV/_;VjeJq#$UYv)V^\">l</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"alkijqEfZu]~W54QFeu5\">chosen</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"flashSegmentOnce(chosen[l], segStart[l], segLen[l], b2, on2, off2)\" numlines=\"1\"></mutation></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">leichtes „Nachglimmen\" / Ambient-Flicker (kurz und subtil)</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random_deprecated\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"[/D]IhHQ}Dk1N|6?:?Xa\">glowB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">40</field></shadow></value></block></value><next><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"R^v?/]Xeo8.|/0^76!sC\">v</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"*%FIhlH7|{5%/zw}vHcW\">strips</field></block></value><statement name=\"DO\"><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"R^v?/]Xeo8.|/0^76!sC\">v</field></block></value><value name=\"brightness\"><block type=\"variables_get\"><field name=\"VAR\" id=\"[/D]IhHQ}Dk1N|6?:?Xa\">glowB</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"U5ggPUUXg],0-K)t{7oj\">p</field><comment pinned=\"false\" h=\"80\" w=\"160\">ganz wenig weiss auf zufälligem Pixel -&gt; wirkt wie Restlicht in Wolke</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_length\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"R^v?/]Xeo8.|/0^76!sC\">v</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value><next><block type=\"neopixel_set_pixel_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"R^v?/]Xeo8.|/0^76!sC\">v</field></block></value><value name=\"pixeloffset\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U5ggPUUXg],0-K)t{7oj\">p</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.White</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"R^v?/]Xeo8.|/0^76!sC\">v</field></block></value></block></next></block></next></block></next></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">40</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value></block></value><next><block type=\"function_call\"><mutation name=\"blackAll\" functionid=\"N^gAq+L/Z8-ZXxcE^USd\"></mutation></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"blackAll\" functionid=\"N^gAq+L/Z8-ZXxcE^USd\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">am Ende sicher dunkel</comment></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"2262\"><mutation name=\"thunderSequence\" functionid=\")YXn+~#|uh$qBvV#q?vq\"></mutation><field name=\"function_name\">thunderSequence</field><comment pinned=\"false\" h=\"80\" w=\"160\">Gewitter-Sequenz: mehrere Events mit Pausen, wirkt \"dramatisch\"</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"blackAll\" functionid=\"N^gAq+L/Z8-ZXxcE^USd\"></mutation><next><block type=\"function_call\"><mutation name=\"setGlobalBrightness\" functionid=\"Yk.Kza[sPeZ8lZnR6nhF\"><arg name=\"b\" id=\"frv5on8u77v8wcwrw1e3\" type=\"number\"></arg></mutation><value name=\"frv5on8u77v8wcwrw1e3\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"z.2fgu{CbKCq/NQxmC[2\">events</field><comment pinned=\"false\" h=\"80\" w=\"160\">wie viele Blitz-Events beim Knopfdruck?</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value></block></value><next><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"z.2fgu{CbKCq/NQxmC[2\">events</field></block></value><statement name=\"DO\"><block type=\"function_call\"><mutation name=\"lightningEvent\" functionid=\"=Jw/rSH]BwZ!/iKh3U9P\"></mutation><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"w;~E=W[zT5MP4_uN8JM!\"><arg name=\"min\" id=\"8drgfsop761bc3ogk4y8s\" type=\"number\"></arg><arg name=\"max\" id=\"klwg2mihxukhglqeg3jq\" type=\"number\"></arg></mutation><value name=\"8drgfsop761bc3ogk4y8s\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"D6CZvf_FN[@#*bwfp6B5\">BETWEEN_EVENTS_MIN</field></block></value><value name=\"klwg2mihxukhglqeg3jq\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"%l)}swM*|[6_dSp[=YsJ\">BETWEEN_EVENTS_MAX</field></block></value></block></value></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"blackAll\" functionid=\"N^gAq+L/Z8-ZXxcE^USd\"></mutation></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":35,"length1":131,"diffs":[[1,"// \n// Thunder / Lightning FX (3 Strips)\n// \n// micro:bit + NeoPixel (MakeCode)\n// \n"]]},{"start1":139,"length1":0,"diffs":[[1,"// \n"]]},{"start1":178,"length1":492,"diffs":[[1,"function clamp (v: number, lo: number, hi: number) {\n    if (v < lo) {\n        return lo\n    }\n    if (v > hi) {\n        return hi\n    }\n"]]},{"start1":330,"length1":1096,"diffs":[[1,"// Gewitter-Sequenz: mehrere Events mit Pausen, wirkt \"dramatisch\"\nfunction thunderSequence () {\n    blackAll()\n    setGlobalBrightness(255)\n    // wie viele Blitz-Events beim Knopfdruck?\n    events = randInt(3, 7)\n    for (let index = 0; index < events; index++) {\n        lightningEvent()\n        basic.pause(randInt(BETWEEN_EVENTS_MIN, BETWEEN_EVENTS_MAX))\n"]]},{"start1":696,"length1":235,"diffs":[[1,"    blackAll()\n"]]},{"start1":713,"length1":397,"diffs":[[1,"// -------------------------------\n// Controls\n// -------------------------------\ninput.onButtonPressed(Button.A, function () {\n    thunderSequence()\n})\n// Blitz-Event: wählt zufällige Segmente über 1-3 Strips und macht mehrere Flashes\n// zufällige Auswahl (ohne doppelte)\n// pro Strip ein eigenes Segment (Start/Len)\nfunction lightningEvent () {\n    // wie viele Strips beteiligt?\n    involvedCount = randInt(1, 3)\n    while (chosen.length < involvedCount) {\n        candidate = strips[randInt(0, strips.length - 1)]\n        if (chosen.indexOf(candidate) < 0) {\n            chosen.push(candidate)\n"]]},{"start1":1327,"length1":621,"diffs":[[1,"    for (let u of chosen) {\n        len = randInt(SEG_MIN, SEG_MAX)\n        start = randInt(0, u.length() - len)\n        segStart.push(start)\n        segLen.push(len)\n"]]},{"start1":1500,"length1":580,"diffs":[[1,"    // Anzahl Flashes in diesem Event\n    flashes = randInt(FLASH_MIN, FLASH_MAX)\n    for (let f = 0; f <= flashes - 1; f++) {\n        let baseB = (f == 0) ? randInt(180, 255) : randInt(80, 220)\nonMs = randInt(15, 60)\n        offMs = randInt(10, 80)\n        // manchmal „Double-Flash\" (klassisch bei Blitzen)\n        doubleFlash = Math.randomRange(0, 100) < 35\n        // alle beteiligten Segmente gleichzeitig\n        for (let k = 0; k <= chosen.length - 1; k++) {\n            flashSegmentOnce(chosen[k], segStart[k], segLen[k], baseB, onMs, offMs)\n"]]},{"start1":2060,"length1":1,"diffs":[[1,""]]},{"start1":2087,"length1":300,"diffs":[[1,"            // kurzer \"kick\" danach\n            b2 = clamp(baseB + randInt(20, 60), 0, 255)\n            on2 = randInt(10, 35)\n            off2 = randInt(20, 120)\n            for (let l = 0; l <= chosen.length - 1; l++) {\n                flashSegmentOnce(chosen[l], segStart[l], segLen[l], b2, on2, off2)\n"]]},{"start1":2415,"length1":865,"diffs":[[1,"        // leichtes „Nachglimmen\" / Ambient-Flicker (kurz und subtil)\n        if (Math.randomRange(0, 100) < 30) {\n            glowB = randInt(10, 40)\n            for (let v of strips) {\n                v.setBrightness(glowB)\n                // ganz wenig weiss auf zufälligem Pixel -> wirkt wie Restlicht in Wolke\n                p = randInt(0, v.length() - 1)\n                v.setPixelColor(p, neopixel.colors(NeoPixelColors.White))\n                v.show()\n            }\n            basic.pause(randInt(40, 120))\n            blackAll()\n"]]},{"start1":2971,"length1":282,"diffs":[[1,"    // am Ende sicher dunkel\n    blackAll()\n"]]},{"start1":3017,"length1":336,"diffs":[[1,"function blackAll () {\n    for (let s of strips) {\n        s.showColor(neopixel.colors(NeoPixelColors.Black))\n        s.show()\n"]]},{"start1":3150,"length1":280,"diffs":[[1,""]]},{"start1":3152,"length1":1,"diffs":[[1,"function setGlobalBrightness (b: number) {\n    b = clamp(b, 0, 255)\n    for (let t of strips) {\n        t.setBrightness(b)\n    }\n}\ninput.onButtonPressed(Button.B, function () {\n    blackAll()\n})\n"]]},{"start1":3382,"length1":12,"diffs":[[1,"// Helpers\n"]]},{"start1":3428,"length1":90,"diffs":[[1,"function randInt (min: number, max: number) {\n    // inclusive\n    return Math.randomRange(min, max)\n}\nlet b = 0\nlet p = 0\nlet glowB = 0\nlet doubleFlash = false\nlet flashes = 0\nlet len = 0\nlet candidate: neopixel.Strip = null\nlet involvedCount = 0\nlet events = 0\nlet BETWEEN_EVENTS_MAX = 0\nlet BETWEEN_EVENTS_MIN = 0\nlet FLASH_MAX = 0\nlet FLASH_MIN = 0\nlet SEG_MAX = 0\nlet SEG_MIN = 0\nlet strips: neopixel.Strip[] = []\nlet chosen: neopixel.Strip[] = []\nlet segStart: number[] = []\nlet segLen: number[] = []\nlet start = 0\nlet onMs = 0\nlet offMs = 0\nlet b2 = 0\nlet on2 = 0\nlet off2 = 0\nlet strip1 = neopixel.create(DigitalPin.P0, 30, NeoPixelMode.RGB)\nlet strip2 = neopixel.create(DigitalPin.P1, 30, NeoPixelMode.RGB)\nlet strip3 = neopixel.create(DigitalPin.P2, 30, NeoPixelMode.RGB)\nstrips = [strip1, strip2, strip3]\n// ---- Tuning ----\n// kleinste Segmentlänge\nSEG_MIN = 3\n// grösste Segmentlänge\nSEG_MAX = 10\n// minimale Flashes pro Blitz-Event\nFLASH_MIN = 2\n// maximale Flashes pro Blitz-Event\nFLASH_MAX = 6\nBETWEEN_EVENTS_MIN = 80\nBETWEEN_EVENTS_MAX = 220\nfunction clearStrip(s: neopixel.Strip) {\n    s.showColor(neopixel.colors(NeoPixelColors.Black))\n    s.show()\n}\n"]]},{"start1":4599,"length1":85,"diffs":[[1,"function flashSegmentOnce(s: neopixel.Strip,start: number,length: number,brightness: number,onMs: number,offMs: number) {\n    // weiss, leicht \"kalt\" wirkt auch gut: 0xE6F7FF\n    s.setBrightness(brightness)\n    s.setPixelColor(start, neopixel.colors(NeoPixelColors.White))\n    // fill ist schneller/sauberer:\n    s.showRainbow(0, 0) // Trick: reset internal? (optional; falls du glitches hast, rausnehmen)\n    // MakeCode hat fill() je nach Version; wenn vorhanden: s.fill(0xFFFFFF, start, length)\n    for (let i = 0; i < length; i++) {\n        s.setPixelColor(start + i, neopixel.colors(NeoPixelColors.White))\n    }\n    s.show()\n    basic.pause(onMs)\n\n    // aus\n    for (let j = 0; j < length; j++) {\n        s.setPixelColor(start + j, neopixel.colors(NeoPixelColors.Black))\n    }\n    s.show()\n    basic.pause(offMs)\n}\n"]]}]}]},{"timestamp":1770755534476,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":2292,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"$qMGO;+l2%xOKYLl[GOa\">strips</variable><variable id=\"ee.kR{t#5OK9fHt1M]bb\">s</variable><variable id=\"}C{`0:wncb@Q?jZ=.vGb\">b</variable><variable id=\"%RV4?}S5YbS|9p%*mJ,f\">t</variable><variable id=\"B9YL[d}3%(BYawA.wN3G\">involvedCount</variable><variable id=\"neqJ5B@~cgXdIeq}8.+W\">chosen</variable><variable id=\"]CWNyYrB7Xu[M8dKZr%/\">candidate</variable><variable id=\"NO3LMPHKcI4c.b%inu4B\">u</variable><variable id=\"~jA0;rlTE2.-R^[W_Frx\">len</variable><variable id=\"mvymmQ%bp_lWV[_TOOwt\">SEG_MIN</variable><variable id=\"99Y-rHCUB,tH[n-V~6uw\">SEG_MAX</variable><variable id=\"iv*zr%Dkjb{N`dyQe()K\">start</variable><variable id=\"gW~cmtru;knGKIV#^ds6\">segStart</variable><variable id=\"Z(@~Wh/4%+MOiSn}X(@@\">segLen</variable><variable id=\"_*xBi%Ei@W_hK4O2ntL:\">flashes</variable><variable id=\"JO(m--%]P}Ddz$0@n1+3\">FLASH_MIN</variable><variable id=\"Rk{}c0_X3Qy|TAtR`PRC\">FLASH_MAX</variable><variable id=\"E@|X?tiXZQ7?DI8=Coq/\">f</variable><variable id=\"1eP#Zx2uKa)Xd~{E=,+W\">onMs</variable><variable id=\"9C8m`K-:*L;;|mdA|TPR\">offMs</variable><variable id=\"4%5[E|{K~fG#hQ:~~GjJ\">doubleFlash</variable><variable id=\"MlyMPFEHEqm%-Qn00F}r\">k</variable><variable id=\"6%3-8hLh0!nn7]~8v_OX\">b2</variable><variable id=\"rjHiZ/#QPq4RYrnvc_q]\">baseB</variable><variable id=\"Jneu@.FyV%(ygxj6P3?4\">on2</variable><variable id=\"c!~4L]+ZIiITI}r~4K);\">off2</variable><variable id=\"W^*rDi;_k_UL3}844l-X\">l</variable><variable id=\"N=%j!vdyd13.UA1mUB?r\">glowB</variable><variable id=\"k8hlh8U{gj40)ZO}gx=`\">v</variable><variable id=\"V[Vr-GTIR1FL;yk*Q,y`\">p</variable><variable id=\"YgID=G?,aSKwupzu:S{]\">events</variable><variable id=\"O)KpvuEQvWLb|c6h;S.0\">BETWEEN_EVENTS_MIN</variable><variable id=\"{6I;/uMud^.|C+4F~t1|\">BETWEEN_EVENTS_MAX</variable><variable id=\"8._FKF]@sRwn{fK]:OoQ\">strip1</variable><variable id=\"!xY[(cTET*[8lwR2guax\">strip2</variable><variable id=\",wQ.#Bz|9Ls?4n%LGZ;{\">strip3</variable></variables><comment x=\"838.390625\" y=\"2281.5\" w=\"330\" h=\"200\">\n"]]},{"start1":2057,"length1":119,"diffs":[[1,"Thunder / Lightning FX (3 Strips)\nmicro:bit + NeoPixel (MakeCode)\n"]]},{"start1":2172,"length1":3814,"diffs":[[1,"</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let segLen: number[] = []\" numlines=\"1\" declaredvars=\"segLen\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let segStart: number[] = []\" numlines=\"1\" declaredvars=\"segStart\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let chosen: neopixel.Strip[] = []\" numlines=\"1\" declaredvars=\"chosen\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8._FKF]@sRwn{fK]:OoQ\">strip1</field><data>0</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P0</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"!xY[(cTET*[8lwR2guax\">strip2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P1</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",wQ.#Bz|9Ls?4n%LGZ;{\">strip3</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P2</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$qMGO;+l2%xOKYLl[GOa\">strips</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><block type=\"variables_get\"><field name=\"VAR\" id=\"8._FKF]@sRwn{fK]:OoQ\">strip1</field></block></value><value name=\"ADD1\"><block type=\"variables_get\"><field name=\"VAR\" id=\"!xY[(cTET*[8lwR2guax\">strip2</field></block></value><value name=\"ADD2\"><block type=\"variables_get\"><field name=\"VAR\" id=\",wQ.#Bz|9Ls?4n%LGZ;{\">strip3</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"mvymmQ%bp_lWV[_TOOwt\">SEG_MIN</field><comment pinned=\"false\" h=\"80\" w=\"160\">---- Tuning ----\nkleinste Segmentlänge</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"99Y-rHCUB,tH[n-V~6uw\">SEG_MAX</field><comment pinned=\"false\" h=\"80\" w=\"160\">grösste Segmentlänge</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"JO(m--%]P}Ddz$0@n1+3\">FLASH_MIN</field><comment pinned=\"false\" h=\"80\" w=\"160\">minimale Flashes pro Blitz-Event</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Rk{}c0_X3Qy|TAtR`PRC\">FLASH_MAX</field><comment pinned=\"false\" h=\"80\" w=\"160\">maximale Flashes pro Blitz-Event</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">6</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"O)KpvuEQvWLb|c6h;S.0\">BETWEEN_EVENTS_MIN</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"{6I;/uMud^.|C+4F~t1|\">BETWEEN_EVENTS_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">220</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function clearStrip(s: neopixel.Strip) {\" line1=\"    s.showColor(neopixel.colors(NeoPixelColors.Black))\" line2=\"    s.show()\" line3=\"}\" numlines=\"4\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function flashSegmentOnce(\" line1=\"    s: neopixel.Strip,\" line2=\"    start: number,\" line3=\"    length: number,\" line4=\"    brightness: number,\" line5=\"    onMs: number,\" line6=\"    offMs: number\" line7=\") {\" line8=\"    // weiss, leicht &quot;kalt&quot; wirkt auch gut: 0xE6F7FF\" line9=\"    s.setBrightness(brightness)\" line10=\"    s.setPixelColor(start, neopixel.colors(NeoPixelColors.White))\" line11=\"    // fill ist schneller/sauberer:\" line12=\"    s.showRainbow(0, 0) // Trick: reset internal? (optional; falls du glitches hast, rausnehmen)\" line13=\"    // MakeCode hat fill() je nach Version; wenn vorhanden: s.fill(0xFFFFFF, start, length)\" line14=\"    for (let i = 0; i &lt; length; i++) {\" line15=\"        s.setPixelColor(start + i, neopixel.colors(NeoPixelColors.White))\" line16=\"    }\" line17=\"    s.show()\" line18=\"    basic.pause(onMs)\" line19=\"\" line20=\"    // aus\" line21=\"    for (let j = 0; j &lt; length; j++) {\" line22=\"        s.setPixelColor(start + j, neopixel.colors(NeoPixelColors.Black))\" line23=\"    }\" line24=\"    s.show()\" line25=\"    basic.pause(offMs)\" line26=\"}\" numlines=\"27\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"942\" y=\"20\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"blackAll\" functionid=\".T)94z}QfU:!fSmhoG[,\"></mutation></block></statement></block><block type=\"device_button_event\" x=\"1222\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">-------------------------------\n"]]},{"start1":8162,"length1":76743,"diffs":[[1,"-------------------------------</comment><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"thunderSequence\" functionid=\"?+FIMSpIYfy9T`d|jM_E\"></mutation></block></statement></block><block type=\"function_definition\" x=\"1527\" y=\"20\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><field name=\"function_name\">randInt</field><comment pinned=\"false\" h=\"80\" w=\"160\">-------------------------------\nHelpers\n-------------------------------</comment><value name=\"xip6azl0mctu7bbppjwj\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">min</field></block></value><value name=\"hofinopjgjlhc0injacs3\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">max</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">inclusive</comment><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random_deprecated\"><value name=\"min\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">min</field></block></value><value name=\"limit\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">max</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"2203\" y=\"20\"><mutation name=\"clamp\" functionid=\"AQ`7/jH}kc7;[3nFodDk\"><arg name=\"v\" id=\"3chsqgrxnza6rr4wiacwe\" type=\"number\"></arg><arg name=\"lo\" id=\"yva18ezynmaw590ykcwze\" type=\"number\"></arg><arg name=\"hi\" id=\"hevsc92nu8i1oco2v7nxgx\" type=\"number\"></arg></mutation><field name=\"function_name\">clamp</field><value name=\"3chsqgrxnza6rr4wiacwe\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">v</field></block></value><value name=\"yva18ezynmaw590ykcwze\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">lo</field></block></value><value name=\"hevsc92nu8i1oco2v7nxgx\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">hi</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">v</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">lo</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">lo</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">v</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">hi</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">hi</field></block></value></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">v</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2602\" y=\"20\"><mutation name=\"blackAll\" functionid=\".T)94z}QfU:!fSmhoG[,\"></mutation><field name=\"function_name\">blackAll</field><statement name=\"STACK\"><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"ee.kR{t#5OK9fHt1M]bb\">s</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"$qMGO;+l2%xOKYLl[GOa\">strips</field></block></value><statement name=\"DO\"><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"ee.kR{t#5OK9fHt1M]bb\">s</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"ee.kR{t#5OK9fHt1M]bb\">s</field></block></value></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"3050\" y=\"20\"><mutation name=\"setGlobalBrightness\" functionid=\"U_!!F5#W@rZ(^Z{Xc!C~\"><arg name=\"b\" id=\"bxlukforzvgcuoz4rhmo\" type=\"number\"></arg></mutation><field name=\"function_name\">setGlobalBrightness</field><value name=\"bxlukforzvgcuoz4rhmo\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">b</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"}C{`0:wncb@Q?jZ=.vGb\">b</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"clamp\" functionid=\"AQ`7/jH}kc7;[3nFodDk\"><arg name=\"v\" id=\"3chsqgrxnza6rr4wiacwe\" type=\"number\"></arg><arg name=\"lo\" id=\"yva18ezynmaw590ykcwze\" type=\"number\"></arg><arg name=\"hi\" id=\"hevsc92nu8i1oco2v7nxgx\" type=\"number\"></arg></mutation><value name=\"3chsqgrxnza6rr4wiacwe\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">b</field></block></value><value name=\"yva18ezynmaw590ykcwze\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"hevsc92nu8i1oco2v7nxgx\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"%RV4?}S5YbS|9p%*mJ,f\">t</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"$qMGO;+l2%xOKYLl[GOa\">strips</field></block></value><statement name=\"DO\"><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"%RV4?}S5YbS|9p%*mJ,f\">t</field></block></value><value name=\"brightness\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">b</field></block></value></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"3550\" y=\"20\"><mutation name=\"lightningEvent\" functionid=\"2+PKR/,8;VPQ?#auWPeh\"></mutation><field name=\"function_name\">lightningEvent</field><comment pinned=\"false\" h=\"80\" w=\"160\">Blitz-Event: wählt zufällige Segmente über 1-3 Strips und macht mehrere Flashes\nzufällige Auswahl (ohne doppelte)\npro Strip ein eigenes Segment (Start/Len)</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"B9YL[d}3%(BYawA.wN3G\">involvedCount</field><comment pinned=\"false\" h=\"80\" w=\"160\">wie viele Strips beteiligt?</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"neqJ5B@~cgXdIeq}8.+W\">chosen</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"B9YL[d}3%(BYawA.wN3G\">involvedCount</field></block></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"]CWNyYrB7Xu[M8dKZr%/\">candidate</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"$qMGO;+l2%xOKYLl[GOa\">strips</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"$qMGO;+l2%xOKYLl[GOa\">strips</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"array_indexof\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"neqJ5B@~cgXdIeq}8.+W\">chosen</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"]CWNyYrB7Xu[M8dKZr%/\">candidate</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"neqJ5B@~cgXdIeq}8.+W\">chosen</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"]CWNyYrB7Xu[M8dKZr%/\">candidate</field></block></value></block></statement></block></next></block></statement><next><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"NO3LMPHKcI4c.b%inu4B\">u</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"neqJ5B@~cgXdIeq}8.+W\">chosen</field></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~jA0;rlTE2.-R^[W_Frx\">len</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"mvymmQ%bp_lWV[_TOOwt\">SEG_MIN</field></block></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"99Y-rHCUB,tH[n-V~6uw\">SEG_MAX</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"iv*zr%Dkjb{N`dyQe()K\">start</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_length\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"NO3LMPHKcI4c.b%inu4B\">u</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"~jA0;rlTE2.-R^[W_Frx\">len</field></block></value></block></value></block></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"gW~cmtru;knGKIV#^ds6\">segStart</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"iv*zr%Dkjb{N`dyQe()K\">start</field></block></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Z(@~Wh/4%+MOiSn}X(@@\">segLen</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"~jA0;rlTE2.-R^[W_Frx\">len</field></block></value></block></next></block></next></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_*xBi%Ei@W_hK4O2ntL:\">flashes</field><comment pinned=\"false\" h=\"80\" w=\"160\">Anzahl Flashes in diesem Event</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"JO(m--%]P}Ddz$0@n1+3\">FLASH_MIN</field></block></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Rk{}c0_X3Qy|TAtR`PRC\">FLASH_MAX</field></block></value></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"E@|X?tiXZQ7?DI8=Coq/\">f</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_*xBi%Ei@W_hK4O2ntL:\">flashes</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let baseB = (f == 0) ? randInt(180, 255) : randInt(80, 220)\" numlines=\"1\" declaredvars=\"baseB\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"1eP#Zx2uKa)Xd~{E=,+W\">onMs</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">15</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"9C8m`K-:*L;;|mdA|TPR\">offMs</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"4%5[E|{K~fG#hQ:~~GjJ\">doubleFlash</field><comment pinned=\"false\" h=\"80\" w=\"160\">manchmal „Double-Flash\" (klassisch bei Blitzen)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random_deprecated\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">35</field></shadow></value></block></value><next><block type=\"pxt_controls_for\"><comment pinned=\"false\" h=\"80\" w=\"160\">alle beteiligten Segmente gleichzeitig</comment><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"MlyMPFEHEqm%-Qn00F}r\">k</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"neqJ5B@~cgXdIeq}8.+W\">chosen</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"flashSegmentOnce(chosen[k], segStart[k], segLen[k], baseB, onMs, offMs)\" numlines=\"1\"></mutation></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"4%5[E|{K~fG#hQ:~~GjJ\">doubleFlash</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"6%3-8hLh0!nn7]~8v_OX\">b2</field><comment pinned=\"false\" h=\"80\" w=\"160\">kurzer \"kick\" danach</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"clamp\" functionid=\"AQ`7/jH}kc7;[3nFodDk\"><arg name=\"v\" id=\"3chsqgrxnza6rr4wiacwe\" type=\"number\"></arg><arg name=\"lo\" id=\"yva18ezynmaw590ykcwze\" type=\"number\"></arg><arg name=\"hi\" id=\"hevsc92nu8i1oco2v7nxgx\" type=\"number\"></arg></mutation><value name=\"3chsqgrxnza6rr4wiacwe\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"rjHiZ/#QPq4RYrnvc_q]\">baseB</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value></block></value></block></value><value name=\"yva18ezynmaw590ykcwze\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"hevsc92nu8i1oco2v7nxgx\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Jneu@.FyV%(ygxj6P3?4\">on2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">35</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"c!~4L]+ZIiITI}r~4K);\">off2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"W^*rDi;_k_UL3}844l-X\">l</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"neqJ5B@~cgXdIeq}8.+W\">chosen</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"flashSegmentOnce(chosen[l], segStart[l], segLen[l], b2, on2, off2)\" numlines=\"1\"></mutation></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">leichtes „Nachglimmen\" / Ambient-Flicker (kurz und subtil)</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random_deprecated\"><value name=\"min\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"limit\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"N=%j!vdyd13.UA1mUB?r\">glowB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">40</field></shadow></value></block></value><next><block type=\"pxt_controls_for_of\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"k8hlh8U{gj40)ZO}gx=`\">v</field></block></value><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"$qMGO;+l2%xOKYLl[GOa\">strips</field></block></value><statement name=\"DO\"><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"k8hlh8U{gj40)ZO}gx=`\">v</field></block></value><value name=\"brightness\"><block type=\"variables_get\"><field name=\"VAR\" id=\"N=%j!vdyd13.UA1mUB?r\">glowB</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"V[Vr-GTIR1FL;yk*Q,y`\">p</field><comment pinned=\"false\" h=\"80\" w=\"160\">ganz wenig weiss auf zufälligem Pixel -&gt; wirkt wie Restlicht in Wolke</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_length\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"k8hlh8U{gj40)ZO}gx=`\">v</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value><next><block type=\"neopixel_set_pixel_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"k8hlh8U{gj40)ZO}gx=`\">v</field></block></value><value name=\"pixeloffset\"><block type=\"variables_get\"><field name=\"VAR\" id=\"V[Vr-GTIR1FL;yk*Q,y`\">p</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.White</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"k8hlh8U{gj40)ZO}gx=`\">v</field></block></value></block></next></block></next></block></next></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">40</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value></block></value><next><block type=\"function_call\"><mutation name=\"blackAll\" functionid=\".T)94z}QfU:!fSmhoG[,\"></mutation></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"blackAll\" functionid=\".T)94z}QfU:!fSmhoG[,\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">am Ende sicher dunkel</comment></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"2282\"><mutation name=\"thunderSequence\" functionid=\"?+FIMSpIYfy9T`d|jM_E\"></mutation><field name=\"function_name\">thunderSequence</field><comment pinned=\"false\" h=\"80\" w=\"160\">Gewitter-Sequenz: mehrere Events mit Pausen, wirkt \"dramatisch\"</comment><statement name=\"STACK\"><block type=\"function_call\"><mutation name=\"blackAll\" functionid=\".T)94z}QfU:!fSmhoG[,\"></mutation><next><block type=\"function_call\"><mutation name=\"setGlobalBrightness\" functionid=\"U_!!F5#W@rZ(^Z{Xc!C~\"><arg name=\"b\" id=\"bxlukforzvgcuoz4rhmo\" type=\"number\"></arg></mutation><value name=\"bxlukforzvgcuoz4rhmo\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"YgID=G?,aSKwupzu:S{]\">events</field><comment pinned=\"false\" h=\"80\" w=\"160\">wie viele Blitz-Events beim Knopfdruck?</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value></block></value><next><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YgID=G?,aSKwupzu:S{]\">events</field></block></value><statement name=\"DO\"><block type=\"function_call\"><mutation name=\"lightningEvent\" functionid=\"2+PKR/,8;VPQ?#auWPeh\"></mutation><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow><block type=\"function_call_output\"><mutation name=\"randInt\" functionid=\"9CChvoYIxXb[=TK/X4[*\"><arg name=\"min\" id=\"xip6azl0mctu7bbppjwj\" type=\"number\"></arg><arg name=\"max\" id=\"hofinopjgjlhc0injacs3\" type=\"number\"></arg></mutation><value name=\"xip6azl0mctu7bbppjwj\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"O)KpvuEQvWLb|c6h;S.0\">BETWEEN_EVENTS_MIN</field></block></value><value name=\"hofinopjgjlhc0injacs3\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{6I;/uMud^.|C+4F~t1|\">BETWEEN_EVENTS_MAX</field></block></value></block></value></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"blackAll\" functionid=\".T)94z}QfU:!fSmhoG[,\"></mutation></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":390,"diffs":[[1,"// ===============================\n// Thunder / Lightning FX (BLOCK-SAFE)\n// 3 NeoPixel Strips on micro:bit\n// A = Gewitter-Sequenz\n// B = Sofort AUS (alles schwarz)\n// Pins: P0, P1, P2\n// ===============================\n\nlet strip1 = neopixel.create(DigitalPin.P0, 30, NeoPixelMode.RGB)\nlet strip2 = neopixel.create(DigitalPin.P1, 30, NeoPixelMode.RGB)\nlet strip3 = neopixel.create(DigitalPin.P2, 30, NeoPixelMode.RGB)\n\nlet running = false\n\n// ---- Tuning ----\nconst SEG_MIN = 3\nconst SEG_MAX = 10\nconst FLASH_MIN = 2\nconst FLASH_MAX = 6\nconst BETWEEN_EVENTS_MIN = 80\nconst BETWEEN_EVENTS_MAX = 220\n\nfunction clamp(v: number, lo: number, hi: number): number {\n    if (v < lo) return lo\n    if (v > hi) return hi\n"]]},{"start1":728,"length1":706,"diffs":[[1,"\nfunction blackout() {\n    running = false\n    strip1.showColor(neopixel.colors(NeoPixelColors.Black)); strip1.show()\n    strip2.showColor(neopixel.colors(NeoPixelColors.Black)); strip2.show()\n    strip3.showColor(neopixel.colors(NeoPixelColors.Black)); strip3.show()\n"]]},{"start1":998,"length1":0,"diffs":[[1,"\nfunction setBrightnessAll(b: number) {\n    b = clamp(b, 0, 255)\n    strip1.setBrightness(b)\n    strip2.setBrightness(b)\n    strip3.setBrightness(b)\n}\n\nfunction getStrip(id: number): neopixel.Strip {\n    if (id == 1) return strip1\n    if (id == 2) return strip2\n    return strip3\n}\n\nfunction getStripLen(id: number): number {\n    if (id == 1) return strip1.length()\n    if (id == 2) return strip2.length()\n    return strip3.length()\n}\n\n"]]},{"start1":1485,"length1":189,"diffs":[[1,"function flashSegmentOnceById(id: number, start: number, length: number, brightness: number, onMs: number, offMs: number) {\n    if (!running) return\n    let s = getStrip(id)\n\n"]]},{"start1":1692,"length1":0,"diffs":[[1,"\n"]]},{"start1":1711,"length1":44,"diffs":[[1,"    for (let i = 0; i < length; i++) {\n"]]},{"start1":1865,"length1":43,"diffs":[[1,"    if (!running) return\n\n"]]},{"start1":1910,"length1":118,"diffs":[[1,"    for (let i = 0; i < length; i++) {\n        s.setPixelColor(start + i, neopixel.colors(NeoPixelColors.Black))\n"]]},{"start1":2067,"length1":449,"diffs":[[1,"\n// Kleine Zufallsfunktion (MakeCode-safe)\nfunction rnd(min: number, max: number): number {\n    return Math.randomRange(min, max)\n"]]},{"start1":2199,"length1":0,"diffs":[[1,"\n// Wählt 1–3 unterschiedliche Strip-IDs (1..3)\nfunction pickStripsCount(count: number): number[] {\n    let chosen: number[] = []\n    while (chosen.length < count) {\n        let cand = rnd(1, 3)\n        if (chosen.indexOf(cand) < 0) {\n            chosen.push(cand)\n        }\n    }\n    return chosen\n}\n\n"]]},{"start1":2575,"length1":100,"diffs":[[1,"function lightningEvent() {\n    if (!running) return\n\n    let involvedCount = rnd(1, 3)\n    let chosen = pickStripsCount(involvedCount)\n\n    // Segment-Start/Len pro Strip vorbereiten\n"]]},{"start1":2789,"length1":367,"diffs":[[1,"    let lens: number[] = []\n    for (let i = 0; i < chosen.length; i++) {\n        let id = chosen[i]\n        let len = rnd(SEG_MIN, SEG_MAX)\n        let maxStart = getStripLen(id) - len\n        if (maxStart < 0) maxStart = 0\n        let start = rnd(0, maxStart)\n"]]},{"start1":3107,"length1":140,"diffs":[[1,"\n    let flashes = rnd(FLASH_MIN, FLASH_MAX)\n\n    for (let f = 0; f < flashes; f++) {\n        if (!running) return\n\n        // erster Flash oft stärker\n"]]},{"start1":3319,"length1":86,"diffs":[[1,"        let onMs = rnd(15, 60)\n        let offMs = rnd(10, 80)\n\n        let doubleFlash = (rnd(0, 100) < 35)\n\n"]]},{"start1":3520,"length1":208,"diffs":[[1,"        for (let i = 0; i < chosen.length; i++) {\n            flashSegmentOnceById(chosen[i], starts[i], lens[i], baseB, onMs, offMs)\n            if (!running) return\n"]]},{"start1":3697,"length1":0,"diffs":[[1,"\n"]]},{"start1":3725,"length1":337,"diffs":[[1,"            let b2 = clamp(baseB + rnd(20, 60), 0, 255)\n            let on2 = rnd(10, 35)\n            let off2 = rnd(20, 120)\n            for (let i = 0; i < chosen.length; i++) {\n                flashSegmentOnceById(chosen[i], starts[i], lens[i], b2, on2, off2)\n                if (!running) return\n"]]},{"start1":4049,"length1":0,"diffs":[[1,"\n"]]},{"start1":4162,"length1":99,"diffs":[[1,"            if (!running) return\n            let glowB = rnd(10, 40)\n"]]},{"start1":4267,"length1":0,"diffs":[[1,"\n"]]},{"start1":4310,"length1":441,"diffs":[[1,"            let p1 = rnd(0, strip1.length() - 1)\n            let p2 = rnd(0, strip2.length() - 1)\n            let p3 = rnd(0, strip3.length() - 1)\n\n            strip1.setPixelColor(p1, neopixel.colors(NeoPixelColors.White)); strip1.show()\n            strip2.setPixelColor(p2, neopixel.colors(NeoPixelColors.White)); strip2.show()\n            strip3.setPixelColor(p3, neopixel.colors(NeoPixelColors.White)); strip3.show()\n\n"]]},{"start1":4770,"length1":163,"diffs":[[1,"            if (!running) return\n            blackout() // setzt running=false -> deshalb danach wieder true setzen:\n"]]},{"start1":4930,"length1":0,"diffs":[[1,"\n"]]},{"start1":4987,"length1":234,"diffs":[[1,"    strip1.showColor(neopixel.colors(NeoPixelColors.Black)); strip1.show()\n    strip2.showColor(neopixel.colors(NeoPixelColors.Black)); strip2.show()\n    strip3.showColor(neopixel.colors(NeoPixelColors.Black)); strip3.show()\n"]]},{"start1":5214,"length1":261,"diffs":[[1,"\n// Mehrere Blitz-Events hintereinander\nfunction thunderSequence() {\n    if (!running) return\n\n    setBrightnessAll(255)\n\n    let events = rnd(3, 7)\n    for (let e = 0; e < events; e++) {\n        if (!running) return\n        lightningEvent()\n        if (!running) return\n        basic.pause(rnd(BETWEEN_EVENTS_MIN, BETWEEN_EVENTS_MAX))\n"]]},{"start1":5556,"length1":18,"diffs":[[1,"\n    // am Ende dunkel, aber running bleibt wie es ist\n    strip1.showColor(neopixel.colors(NeoPixelColors.Black)); strip1.show()\n    strip2.showColor(neopixel.colors(NeoPixelColors.Black)); strip2.show()\n    strip3.showColor(neopixel.colors(NeoPixelColors.Black)); strip3.show()\n"]]},{"start1":5838,"length1":241,"diffs":[[1,"\n// -------------------------------\n// Controls\n// -------------------------------\ninput.onButtonPressed(Button.A, function () {\n    running = true\n    thunderSequence()\n"]]},{"start1":6011,"length1":1320,"diffs":[[1,"\ninput.onButtonPressed(Button.B, function () {\n    blackout() // sofort schwarz + sto\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":296,"length1":79,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]},{"type":"added","filename":"test.ts","value":"// Hier kann man Tests durchführen; diese Datei wird nicht kompiliert, wenn dieses Paket als Erweiterung verwendet wird.\n"}]}],"snapshots":[{"timestamp":1770753785187,"editorVersion":"8.0.18","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"Gewitterwolke\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1770755889567,"editorVersion":"8.0.18","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"5v4[lvagOYZAz0xQG9Pg\">running</variable><variable id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</variable><variable id=\"UGxsedNmL]~rXxJ)atVL\">strip2</variable><variable id=\"u5M5XA_YCe02)cWt}*@I\">strip3</variable><variable id=\"HIe/:MjOVT.|qlhpJ`I^\">b</variable><variable id=\"cmJ:,x{EZ6^66HzI94rn\">s</variable><variable id=\"_aR?WDK]VucTO:{*=l^%\">i</variable><variable id=\"E+{u._!38@ghI`BLZ%y]\">j</variable><variable id=\"[}G?iCd^,anocz{^xG+i\">chosen</variable><variable id=\"~r*:cljOZ)w?Gx3gXL=@\">cand</variable><variable id=\"D+ns,Y.[KE(TiZOm*`!j\">involvedCount</variable><variable id=\"vlrnNk9jz/A%uYg4x2!W\">chosen2</variable><variable id=\"_wyiUiHr{$`1y|1)NZ9.\">k</variable><variable id=\"tyC*20HkoewB9fy{2AH+\">id</variable><variable id=\"=on-Z_SnAF_Dt?D^zQ1[\">len</variable><variable id=\"2~XXx6x2pM)./gX;5@,s\">SEG_MIN</variable><variable id=\"W{(aCgikFxa:urHF?ni{\">SEG_MAX</variable><variable id=\"]4jFjmE=1siX0%bDfD#-\">maxStart</variable><variable id=\",#l]kF^@s+W97R`6EA~h\">start</variable><variable id=\"n_Kc/L}plVrUg:xS,w89\">starts</variable><variable id=\"vI$Xr]I4,*wQVS#Z`}pI\">lens</variable><variable id=\"Y6:9Q~mWd/7}*4c@(x=,\">flashes</variable><variable id=\"C?k{wQ13|07Z7D3:E8B@\">FLASH_MIN</variable><variable id=\"v4Gijhj8~HtqU)Q7dKYy\">FLASH_MAX</variable><variable id=\"U+x1=@0zV$Sjw3HiWXD0\">f</variable><variable id=\"Lnqcw9HZDbB0vO@;K23u\">onMs</variable><variable id=\"W%mD/%wx.0pn9m{N$vzF\">offMs</variable><variable id=\"YbT$3ke(p9e,{#.1)!lQ\">doubleFlash</variable><variable id=\"a-b$o/fIqCTHWyuf))E6\">l</variable><variable id=\"oV1g*2:wz+;qw~%%3XWC\">baseB</variable><variable id=\"VBXgq;F2MGZcBo[3-/fL\">b2</variable><variable id=\"z-UTp-S(q6M~#rjp?g61\">on2</variable><variable id=\"F7Ttyhbvm?z-N^Zvhbp]\">off2</variable><variable id=\"}i3M]cT)a61K;=UjSQX]\">m</variable><variable id=\",5|Bf%FQ_?;CU5-7%79q\">glowB</variable><variable id=\"LQde|;4=eiJ)8Xj:D|m5\">p1</variable><variable id=\"VCHz)45fQ?[9S[^m/U54\">p2</variable><variable id=\"mB%$mXXB@xn!eQ~x2-X[\">p3</variable><variable id=\",/ja}]p;prpOM4yYJtyd\">events</variable><variable id=\"Jl*{T7Stg)2B9GG(vDzl\">BETWEEN_EVENTS_MIN</variable><variable id=\"=e2+%FL$vb_4/zh#S?xy\">BETWEEN_EVENTS_MAX</variable></variables><comment x=\"2873.59375\" y=\"1025.5\" w=\"350\" h=\"280\">\n===============================\nThunder / Lightning FX (BLOCK-SAFE)\n3 NeoPixel Strips on micro:bit\nA = Gewitter-Sequenz\nB = Sofort AUS (alles schwarz)\nPins: P0, P1, P2\n===============================\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field><data>0</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P0</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P1</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P2</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"2~XXx6x2pM)./gX;5@,s\">SEG_MIN</field><comment pinned=\"false\" h=\"80\" w=\"160\">---- Tuning ----</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"W{(aCgikFxa:urHF?ni{\">SEG_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"C?k{wQ13|07Z7D3:E8B@\">FLASH_MIN</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"v4Gijhj8~HtqU)Q7dKYy\">FLASH_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">6</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Jl*{T7Stg)2B9GG(vDzl\">BETWEEN_EVENTS_MIN</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=e2+%FL$vb_4/zh#S?xy\">BETWEEN_EVENTS_MAX</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">220</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"924\" y=\"20\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"function_call\"><mutation name=\"blackout\" functionid=\"Y%p[GC(eT[U]%Mb0=eMy\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">sofort schwarz + stop</comment></block></statement></block><block type=\"device_button_event\" x=\"1204\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">-------------------------------\nControls\n-------------------------------</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"function_call\"><mutation name=\"thunderSequence\" functionid=\"NPRoqhc7H|5q%vr9kFA3\"></mutation></block></next></block></statement></block><block type=\"function_definition\" x=\"1584\" y=\"20\"><mutation name=\"blackout\" functionid=\"Y%p[GC(eT[U]%Mb0=eMy\"></mutation><field name=\"function_name\">blackout</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2016\" y=\"20\"><mutation name=\"setBrightnessAll\" functionid=\"m/Wr/nLK$(m*$L2dBc5$\"><arg name=\"b\" id=\"44rdokrkd5yp9hg90k4sl\" type=\"number\"></arg></mutation><field name=\"function_name\">setBrightnessAll</field><value name=\"44rdokrkd5yp9hg90k4sl\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">b</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"HIe/:MjOVT.|qlhpJ`I^\">b</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"clamp\" functionid=\"RA8]^m9%?Z^8|4ekh`{1\"><arg name=\"v\" id=\"jupxzepiuy98cnauo9cf\" type=\"number\"></arg><arg name=\"lo\" id=\"0y09ysnxy4vw8ylao8j43\" type=\"number\"></arg><arg name=\"hi\" id=\"b0yoo09b26eomlloirvkng\" type=\"number\"></arg></mutation><value name=\"jupxzepiuy98cnauo9cf\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">b</field></block></value><value name=\"0y09ysnxy4vw8ylao8j43\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"b0yoo09b26eomlloirvkng\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value><value name=\"brightness\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">b</field></block></value><next><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value><value name=\"brightness\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">b</field></block></value><next><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value><value name=\"brightness\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">b</field></block></value></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2516\" y=\"20\"><mutation name=\"getStrip\" functionid=\"M*;%F-qtmpA%Xw@lztHU\"><arg name=\"id\" id=\"8hdio5f9chfbiooakuwaa\" type=\"number\"></arg></mutation><field name=\"function_name\">getStrip</field><value name=\"8hdio5f9chfbiooakuwaa\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">id</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">id</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">id</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2882\" y=\"20\"><mutation name=\"getStripLen\" functionid=\"aMbdrh!Nfz/d5-V:;uZv\"><arg name=\"id\" id=\"gsf9tp7ii8k8xk4w56i2\" type=\"number\"></arg></mutation><field name=\"function_name\">getStripLen</field><value name=\"gsf9tp7ii8k8xk4w56i2\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">id</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">id</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_length\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">id</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_length\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value></block></value></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_length\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"3317\" y=\"20\"><mutation name=\"flashSegmentOnceById\" functionid=\"~)]mIKx/^3B*XyLjZCV!\"><arg name=\"id\" id=\"6hak48qfr85a373ez1obi\" type=\"number\"></arg><arg name=\"start\" id=\"ybf99ljmy1q9umloccpp\" type=\"number\"></arg><arg name=\"length\" id=\"vqmu4dvhn8plbq8at8zv\" type=\"number\"></arg><arg name=\"brightness\" id=\"qt6vgib98bgxstkmy4eb3\" type=\"number\"></arg><arg name=\"onMs\" id=\"fvvvgwjp97ygecrm8elf\" type=\"number\"></arg><arg name=\"offMs\" id=\"ezstrtri7hl5w7t6rlblh\" type=\"number\"></arg></mutation><field name=\"function_name\">flashSegmentOnceById</field><comment pinned=\"false\" h=\"80\" w=\"160\">Blitz-Segment einmal kurz an/aus (abbruchfähig)</comment><value name=\"6hak48qfr85a373ez1obi\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">id</field></block></value><value name=\"ybf99ljmy1q9umloccpp\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">start</field></block></value><value name=\"vqmu4dvhn8plbq8at8zv\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">length</field></block></value><value name=\"qt6vgib98bgxstkmy4eb3\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">brightness</field></block></value><value name=\"fvvvgwjp97ygecrm8elf\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">onMs</field></block></value><value name=\"ezstrtri7hl5w7t6rlblh\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">offMs</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"true\"></mutation></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"cmJ:,x{EZ6^66HzI94rn\">s</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getStrip\" functionid=\"M*;%F-qtmpA%Xw@lztHU\"><arg name=\"id\" id=\"8hdio5f9chfbiooakuwaa\" type=\"number\"></arg></mutation><value name=\"8hdio5f9chfbiooakuwaa\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">id</field></block></value></block></value><next><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"cmJ:,x{EZ6^66HzI94rn\">s</field></block></value><value name=\"brightness\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">brightness</field></block></value><next><block type=\"pxt_controls_for\"><comment pinned=\"false\" h=\"80\" w=\"160\">Segment AN</comment><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"_aR?WDK]VucTO:{*=l^%\">i</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">length</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"neopixel_set_pixel_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"cmJ:,x{EZ6^66HzI94rn\">s</field></block></value><value name=\"pixeloffset\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">start</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_aR?WDK]VucTO:{*=l^%\">i</field></block></value></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.White</field></shadow></value></block></statement><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"cmJ:,x{EZ6^66HzI94rn\">s</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">onMs</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"true\"></mutation></block></statement><next><block type=\"pxt_controls_for\"><comment pinned=\"false\" h=\"80\" w=\"160\">Segment AUS</comment><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"E+{u._!38@ghI`BLZ%y]\">j</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">length</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"neopixel_set_pixel_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"cmJ:,x{EZ6^66HzI94rn\">s</field></block></value><value name=\"pixeloffset\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">start</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"E+{u._!38@ghI`BLZ%y]\">j</field></block></value></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value></block></statement><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"cmJ:,x{EZ6^66HzI94rn\">s</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">offMs</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"4185\" y=\"20\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><field name=\"function_name\">rnd</field><comment pinned=\"false\" h=\"80\" w=\"160\">Kleine Zufallsfunktion (MakeCode-safe)</comment><value name=\"sgxxcgbrrc1vfhdrr5um\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">min</field></block></value><value name=\"uqlm1mllq1kjnymugdnr\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">max</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_random_deprecated\"><value name=\"min\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">min</field></block></value><value name=\"limit\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">max</field></block></value></block></value></block></statement></block><block type=\"function_definition\" x=\"4861\" y=\"20\"><mutation name=\"pickStripsCount\" functionid=\"6:e0A*pzh5CKp|VSpgLu\"><arg name=\"count\" id=\"18tw1yo1sibxrc8rhxz6t\" type=\"number\"></arg></mutation><field name=\"function_name\">pickStripsCount</field><comment pinned=\"false\" h=\"80\" w=\"160\">Wählt 1–3 unterschiedliche Strip-IDs (1..3)</comment><value name=\"18tw1yo1sibxrc8rhxz6t\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">count</field></block></value><statement name=\"STACK\"><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"[}G?iCd^,anocz{^xG+i\">chosen</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">count</field></block></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~r*:cljOZ)w?Gx3gXL=@\">cand</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"array_indexof\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"[}G?iCd^,anocz{^xG+i\">chosen</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"~r*:cljOZ)w?Gx3gXL=@\">cand</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"[}G?iCd^,anocz{^xG+i\">chosen</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"~r*:cljOZ)w?Gx3gXL=@\">cand</field></block></value></block></statement></block></next></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[}G?iCd^,anocz{^xG+i\">chosen</field></block></value></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"1026\"><mutation name=\"clamp\" functionid=\"RA8]^m9%?Z^8|4ekh`{1\"><arg name=\"v\" id=\"jupxzepiuy98cnauo9cf\" type=\"number\"></arg><arg name=\"lo\" id=\"0y09ysnxy4vw8ylao8j43\" type=\"number\"></arg><arg name=\"hi\" id=\"b0yoo09b26eomlloirvkng\" type=\"number\"></arg></mutation><field name=\"function_name\">clamp</field><value name=\"jupxzepiuy98cnauo9cf\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">v</field></block></value><value name=\"0y09ysnxy4vw8ylao8j43\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">lo</field></block></value><value name=\"b0yoo09b26eomlloirvkng\"><block type=\"argument_reporter_number\" deletable=\"false\"><field name=\"VALUE\">hi</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">v</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">lo</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">lo</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">v</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">hi</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">hi</field></block></value></block></statement><next><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">v</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"419\" y=\"1026\"><mutation name=\"lightningEvent\" functionid=\"]OI9J6L-zmX?2%1K+16D\"></mutation><field name=\"function_name\">lightningEvent</field><comment pinned=\"false\" h=\"80\" w=\"160\">Ein Blitz-Event: zufällige Segmente auf 1–3 Strips, mehrfaches Flashen\nSegment-Start/Len pro Strip vorbereiten</comment><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"true\"></mutation></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"D+ns,Y.[KE(TiZOm*`!j\">involvedCount</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vlrnNk9jz/A%uYg4x2!W\">chosen2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"pickStripsCount\" functionid=\"6:e0A*pzh5CKp|VSpgLu\"><arg name=\"count\" id=\"18tw1yo1sibxrc8rhxz6t\" type=\"number\"></arg></mutation><value name=\"18tw1yo1sibxrc8rhxz6t\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"D+ns,Y.[KE(TiZOm*`!j\">involvedCount</field></block></value></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"_wyiUiHr{$`1y|1)NZ9.\">k</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vlrnNk9jz/A%uYg4x2!W\">chosen2</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"variables_set\"><field name=\"VAR\" id=\"tyC*20HkoewB9fy{2AH+\">id</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vlrnNk9jz/A%uYg4x2!W\">chosen2</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_wyiUiHr{$`1y|1)NZ9.\">k</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=on-Z_SnAF_Dt?D^zQ1[\">len</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"2~XXx6x2pM)./gX;5@,s\">SEG_MIN</field></block></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"W{(aCgikFxa:urHF?ni{\">SEG_MAX</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"]4jFjmE=1siX0%bDfD#-\">maxStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"getStripLen\" functionid=\"aMbdrh!Nfz/d5-V:;uZv\"><arg name=\"id\" id=\"gsf9tp7ii8k8xk4w56i2\" type=\"number\"></arg></mutation><value name=\"gsf9tp7ii8k8xk4w56i2\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"tyC*20HkoewB9fy{2AH+\">id</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=on-Z_SnAF_Dt?D^zQ1[\">len</field></block></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]4jFjmE=1siX0%bDfD#-\">maxStart</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"]4jFjmE=1siX0%bDfD#-\">maxStart</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\",#l]kF^@s+W97R`6EA~h\">start</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]4jFjmE=1siX0%bDfD#-\">maxStart</field></block></value></block></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"n_Kc/L}plVrUg:xS,w89\">starts</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\",#l]kF^@s+W97R`6EA~h\">start</field></block></value><next><block type=\"array_push\"><value name=\"list\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vI$Xr]I4,*wQVS#Z`}pI\">lens</field></block></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=on-Z_SnAF_Dt?D^zQ1[\">len</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y6:9Q~mWd/7}*4c@(x=,\">flashes</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"C?k{wQ13|07Z7D3:E8B@\">FLASH_MIN</field></block></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v4Gijhj8~HtqU)Q7dKYy\">FLASH_MAX</field></block></value></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"U+x1=@0zV$Sjw3HiWXD0\">f</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Y6:9Q~mWd/7}*4c@(x=,\">flashes</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"true\"></mutation></block></statement><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let baseB = (f == 0) ? rnd(180, 255) : rnd(80, 220)\" numlines=\"1\" declaredvars=\"baseB\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Lnqcw9HZDbB0vO@;K23u\">onMs</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">15</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"W%mD/%wx.0pn9m{N$vzF\">offMs</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">80</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"YbT$3ke(p9e,{#.1)!lQ\">doubleFlash</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">35</field></shadow></value></block></value><next><block type=\"pxt_controls_for\"><comment pinned=\"false\" h=\"80\" w=\"160\">Alle beteiligten Strips blitzen \"gleichzeitig\" (kurze Pausen pro Strip sind ok)</comment><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"a-b$o/fIqCTHWyuf))E6\">l</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vlrnNk9jz/A%uYg4x2!W\">chosen2</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"function_call\"><mutation name=\"flashSegmentOnceById\" functionid=\"~)]mIKx/^3B*XyLjZCV!\"><arg name=\"id\" id=\"6hak48qfr85a373ez1obi\" type=\"number\"></arg><arg name=\"start\" id=\"ybf99ljmy1q9umloccpp\" type=\"number\"></arg><arg name=\"length\" id=\"vqmu4dvhn8plbq8at8zv\" type=\"number\"></arg><arg name=\"brightness\" id=\"qt6vgib98bgxstkmy4eb3\" type=\"number\"></arg><arg name=\"onMs\" id=\"fvvvgwjp97ygecrm8elf\" type=\"number\"></arg><arg name=\"offMs\" id=\"ezstrtri7hl5w7t6rlblh\" type=\"number\"></arg></mutation><value name=\"6hak48qfr85a373ez1obi\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vlrnNk9jz/A%uYg4x2!W\">chosen2</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a-b$o/fIqCTHWyuf))E6\">l</field></block></value></block></value><value name=\"ybf99ljmy1q9umloccpp\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"n_Kc/L}plVrUg:xS,w89\">starts</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a-b$o/fIqCTHWyuf))E6\">l</field></block></value></block></value><value name=\"vqmu4dvhn8plbq8at8zv\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vI$Xr]I4,*wQVS#Z`}pI\">lens</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"a-b$o/fIqCTHWyuf))E6\">l</field></block></value></block></value><value name=\"qt6vgib98bgxstkmy4eb3\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"oV1g*2:wz+;qw~%%3XWC\">baseB</field></block></value><value name=\"fvvvgwjp97ygecrm8elf\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Lnqcw9HZDbB0vO@;K23u\">onMs</field></block></value><value name=\"ezstrtri7hl5w7t6rlblh\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"W%mD/%wx.0pn9m{N$vzF\">offMs</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"true\"></mutation></block></statement></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YbT$3ke(p9e,{#.1)!lQ\">doubleFlash</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"VBXgq;F2MGZcBo[3-/fL\">b2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"clamp\" functionid=\"RA8]^m9%?Z^8|4ekh`{1\"><arg name=\"v\" id=\"jupxzepiuy98cnauo9cf\" type=\"number\"></arg><arg name=\"lo\" id=\"0y09ysnxy4vw8ylao8j43\" type=\"number\"></arg><arg name=\"hi\" id=\"b0yoo09b26eomlloirvkng\" type=\"number\"></arg></mutation><value name=\"jupxzepiuy98cnauo9cf\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"oV1g*2:wz+;qw~%%3XWC\">baseB</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">60</field></shadow></value></block></value></block></value><value name=\"0y09ysnxy4vw8ylao8j43\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"b0yoo09b26eomlloirvkng\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"z-UTp-S(q6M~#rjp?g61\">on2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">35</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"F7Ttyhbvm?z-N^Zvhbp]\">off2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value></block></value><next><block type=\"pxt_controls_for\"><value name=\"VAR\"><block type=\"variables_get_reporter\" deletable=\"false\"><field name=\"VAR\" id=\"}i3M]cT)a61K;=UjSQX]\">m</field></block></value><value name=\"TO\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_length\"><value name=\"VALUE\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vlrnNk9jz/A%uYg4x2!W\">chosen2</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO\"><block type=\"function_call\"><mutation name=\"flashSegmentOnceById\" functionid=\"~)]mIKx/^3B*XyLjZCV!\"><arg name=\"id\" id=\"6hak48qfr85a373ez1obi\" type=\"number\"></arg><arg name=\"start\" id=\"ybf99ljmy1q9umloccpp\" type=\"number\"></arg><arg name=\"length\" id=\"vqmu4dvhn8plbq8at8zv\" type=\"number\"></arg><arg name=\"brightness\" id=\"qt6vgib98bgxstkmy4eb3\" type=\"number\"></arg><arg name=\"onMs\" id=\"fvvvgwjp97ygecrm8elf\" type=\"number\"></arg><arg name=\"offMs\" id=\"ezstrtri7hl5w7t6rlblh\" type=\"number\"></arg></mutation><value name=\"6hak48qfr85a373ez1obi\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vlrnNk9jz/A%uYg4x2!W\">chosen2</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}i3M]cT)a61K;=UjSQX]\">m</field></block></value></block></value><value name=\"ybf99ljmy1q9umloccpp\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"n_Kc/L}plVrUg:xS,w89\">starts</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}i3M]cT)a61K;=UjSQX]\">m</field></block></value></block></value><value name=\"vqmu4dvhn8plbq8at8zv\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vI$Xr]I4,*wQVS#Z`}pI\">lens</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}i3M]cT)a61K;=UjSQX]\">m</field></block></value></block></value><value name=\"qt6vgib98bgxstkmy4eb3\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"VBXgq;F2MGZcBo[3-/fL\">b2</field></block></value><value name=\"fvvvgwjp97ygecrm8elf\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"z-UTp-S(q6M~#rjp?g61\">on2</field></block></value><value name=\"ezstrtri7hl5w7t6rlblh\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"F7Ttyhbvm?z-N^Zvhbp]\">off2</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"true\"></mutation></block></statement></block></next></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Optional: mini Nachglimmen (subtil) -&gt; wirkt wie Licht in Wattewolke</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"true\"></mutation></block></statement><next><block type=\"variables_set\"><field name=\"VAR\" id=\",5|Bf%FQ_?;CU5-7%79q\">glowB</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">40</field></shadow></value></block></value><next><block type=\"function_call\"><mutation name=\"setBrightnessAll\" functionid=\"m/Wr/nLK$(m*$L2dBc5$\"><arg name=\"b\" id=\"44rdokrkd5yp9hg90k4sl\" type=\"number\"></arg></mutation><value name=\"44rdokrkd5yp9hg90k4sl\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",5|Bf%FQ_?;CU5-7%79q\">glowB</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"LQde|;4=eiJ)8Xj:D|m5\">p1</field><comment pinned=\"false\" h=\"80\" w=\"160\">je Strip ein Pixel kurz an</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_length\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"VCHz)45fQ?[9S[^m/U54\">p2</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_length\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"mB%$mXXB@xn!eQ~x2-X[\">p3</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_length\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value></block></value><next><block type=\"neopixel_set_pixel_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value><value name=\"pixeloffset\"><block type=\"variables_get\"><field name=\"VAR\" id=\"LQde|;4=eiJ)8Xj:D|m5\">p1</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.White</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value><next><block type=\"neopixel_set_pixel_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value><value name=\"pixeloffset\"><block type=\"variables_get\"><field name=\"VAR\" id=\"VCHz)45fQ?[9S[^m/U54\">p2</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.White</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value><next><block type=\"neopixel_set_pixel_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value><value name=\"pixeloffset\"><block type=\"variables_get\"><field name=\"VAR\" id=\"mB%$mXXB@xn!eQ~x2-X[\">p3</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.White</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">40</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">120</field></shadow></value></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"true\"></mutation></block></statement><next><block type=\"function_call\"><mutation name=\"blackout\" functionid=\"Y%p[GC(eT[U]%Mb0=eMy\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">setzt running=false -&gt; deshalb danach wieder true setzen:</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"neopixel_set_strip_color\"><comment pinned=\"false\" h=\"80\" w=\"160\">sicher dunkel lassen (ohne running abzuschalten)</comment><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"2090\" y=\"1026\"><mutation name=\"thunderSequence\" functionid=\"NPRoqhc7H|5q%vr9kFA3\"></mutation><field name=\"function_name\">thunderSequence</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mehrere Blitz-Events hintereinander</comment><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"true\"></mutation></block></statement><next><block type=\"function_call\"><mutation name=\"setBrightnessAll\" functionid=\"m/Wr/nLK$(m*$L2dBc5$\"><arg name=\"b\" id=\"44rdokrkd5yp9hg90k4sl\" type=\"number\"></arg></mutation><value name=\"44rdokrkd5yp9hg90k4sl\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",/ja}]p;prpOM4yYJtyd\">events</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">7</field></shadow></value></block></value><next><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\",/ja}]p;prpOM4yYJtyd\">events</field></block></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"true\"></mutation></block></statement><next><block type=\"function_call\"><mutation name=\"lightningEvent\" functionid=\"]OI9J6L-zmX?2%1K+16D\"></mutation><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5v4[lvagOYZAz0xQG9Pg\">running</field></block></value></block></value><statement name=\"DO0\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"true\"></mutation></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow><block type=\"function_call_output\"><mutation name=\"rnd\" functionid=\"S#LE`|PWGU6;=c`.e0_B\"><arg name=\"min\" id=\"sgxxcgbrrc1vfhdrr5um\" type=\"number\"></arg><arg name=\"max\" id=\"uqlm1mllq1kjnymugdnr\" type=\"number\"></arg></mutation><value name=\"sgxxcgbrrc1vfhdrr5um\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Jl*{T7Stg)2B9GG(vDzl\">BETWEEN_EVENTS_MIN</field></block></value><value name=\"uqlm1mllq1kjnymugdnr\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"=e2+%FL$vb_4/zh#S?xy\">BETWEEN_EVENTS_MAX</field></block></value></block></value></block></next></block></next></block></next></block></statement><next><block type=\"neopixel_set_strip_color\"><comment pinned=\"false\" h=\"80\" w=\"160\">am Ende dunkel, aber running bleibt wie es ist</comment><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w0tZMW~$Y+OA+waS3%`2\">strip1</field></block></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"UGxsedNmL]~rXxJ)atVL\">strip2</field></block></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Black</field></shadow></value><next><block type=\"neopixel_show\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"u5M5XA_YCe02)cWt}*@I\">strip3</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","pxt.json":"{\n    \"name\": \"Gewitterwolke\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"neopixel\": \"github:microsoft/pxt-neopixel#v0.7.6\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}}],"shares":[],"lastSaveTime":1770755889618}